#
# Inject "hda-gfx"="onboard-1" for HDMI-audio
# Inject "model"="Intel HD Graphics 4400"
#
into method label _DSM parent_adr 0x00020000 remove_entry;
into device name_adr 0x00020000 insert
begin
Method (_DSM, 4, NotSerialized)\n
{\n
    If (LEqual (Arg2, Zero)) { Return (Buffer() { 0x03 } ) }\n
    // template package\n
    Return (Package()\n
    {\n
        "hda-gfx", Buffer() { "onboard-1" },\n
        //"model", Buffer() { "Intel HD Graphics 4400" },\n
    })\n
}\n
end;

#
# Make a slight change to the backlight patch...
# by changing LMAX to 0, will use the BIOS value (0x3a9)
#
into device label PNLF code_regex Name.*\(LMAX,.*\) replace_matched begin Name(LMAX, 0) end;

#
# Make another slight change.
# by changing XOPT=6, we enable IntelBacklightHandler even on Yosemite (and prior)
# normally, it would be used only on 10.11.
#
into device label PNLF code_regex Name.*\(XOPT,.*\) replace_matched begin Name(XOPT, 0x06) end;

